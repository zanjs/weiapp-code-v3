<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>小程序入口生成 二维码 app sacn</title><link rel="icon" type="image/x-icon" href="./img/icon.png"><style>.app{text-align:center}div{margin-bottom:20px}.address{width:500px;height:60px}.mt{margin:0 auto}.home-img{height:160px;background:url(img/load.svg) no-repeat center center}.home-img img{display:block}.button{width:150px;line-height:30px;background-color:#6bd1ff;color:#fff;border:0;cursor:pointer}.text-center{text-align:center}.text-center img{margin:0 auto}.button:hover{opacity:.6}.hide{display:none}</style><link rel="stylesheet" href="./dist/notyf.min.css"></head><body><div class="nav"></div><div class="app"><div><img src="./img/icon.png" alt=""></div><div class="hide"><img src="" alt="" id="weixin-qr-code"></div><div>微信扫一扫 小程序入口生成 二维码 - 当前版本 <span id="version">v2.0.0</span></div><div>输入商品网址 生成 商品详细页二维码</div><div><textarea type="text" class="address" id="address" placeholder="输入商品地址 如果创建失败将显示错误图片"></textarea></div><div id="combine" class="text-center" style="display:none"></div><div class="loader" id="loader"><img onerror='this.src="./img/error.jpg"' src="./img/load.svg" alt=""></div><div><button onclick="creatCode()" class="button" id="btn">生成</button></div><div>如果您在使用过程中遇到了问题，可以点击右下角的沟通图标，与我进行交流</div></div><script src="./dist/notyf.min.js"></script><script src="./js/ajax.js"></script><script src="./dist/qcode-decoder.min.js"></script><script src="./dist/qrcode.js"></script><script>function creatCode(){var e="https://www.amazon.com/dp/B01DFKC2SO/ref=ods_gw_b_h1_ha_justask_black",n=document.getElementById("address"),o=document.getElementById("btn");e=Trim(n.value);if(o.innerHTML="生成中...",!checkUrl(e))return _notyf.alert("请输入正确的商品网址"),void(o.innerHTML="生成");var t=e.indexOf(".cn/");if(t>0)return _notyf.alert("不支持国内产品哦"),void(o.innerHTML="生成");var r="/code?path="+e+"&width=260";initLoad(!0);var d=new Image;d.src=r,d.complete?DencoderImg():d.onload=function(){imgHide.src=r,DencoderImg()}}function Trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")}function checkUrl(e){var n=/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/;return!!n.test(e)}function DencoderImg(){_notyf.confirm("ok 真棒 (●'◡'●)"),btn.innerHTML="生成",QCodeDecoder().decodeFromImage(imgHide,function(e,n){console.log(n),n&&createQrcode(n)})}function createQrcode(e){_qrcode.makeCode(e),initLoad()}function initLoad(e){e?(combine.style="display:none;",loader.style="display:block;"):(combine.style="display:block;",loader.style="display:none;")}var request=ajax({method:"get",url:"/api",data:{}}),imgHide=document.getElementById("weixin-qr-code"),combine=document.getElementById("combine"),loader=document.getElementById("loader");request.then(function(e){var n=document.getElementById("version");n.innerHTML=e.Version?"v"+e.Version+" By "+e.Name:""});var _notyf=new Notyf,_qrcode=new QRCode("combine")</script><script>!function(e,t,o,c,i,n,a){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,n=t.createElement(o),a=t.getElementsByTagName(o)[0],n.async=1,n.src=c,n.charset="utf-8",a.parentNode.insertBefore(n,a)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/6bc54fe0.js","daovoice"),window.onload=function(){daovoice("init",{app_id:"6bc54fe0"}),daovoice("update")}</script></body></html>